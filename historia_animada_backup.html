<i class="fas fa-home"></i> Voltar
</a>
</div>
</nav>

<div class="story-container">
    <div class="scroll-text">

        <!-- Section 0: Intro -->
        <section class="story-section active" data-scene="intro">
            <div class="story-card">
                <span class="era-badge">O Início</span>
                <h1>A Jornada do Conhecimento</h1>
                <p>Desde os primórdios, a humanidade olhou para o céu e para a natureza, buscando padrões e
                    explicações. A Física é essa história de descoberta.</p>
                <p>Role para baixo para viajar através do tempo e ver como nossa compreensão do universo evoluiu.
                </p>
            </div>
        </section>

        <!-- Section 1: Ancient Civilizations -->
        <section class="story-section" data-scene="ancient">
            <div class="story-card">
                <span class="era-badge">Antiguidade (3000 a.C.)</span>
                <h2>Civilizações Antigas: Os Primeiros Observadores</h2>
                <p>Os babilônios mapearam estrelas e planetas com precisão impressionante. Os egípcios usaram geometria
                    para construir pirâmides perfeitamente alinhadas com as estrelas.</p>
                <p>Eles não tinham física moderna, mas observavam padrões: o movimento do Sol, as fases da Lua, as
                    inundações do Nilo.</p>
                <p><strong>A ciência começou com a observação paciente do cosmos.</strong></p>
            </div>
        </section>

        <!-- Section 2: Arquimedes -->
        <section class="story-section" data-scene="archimedes">
            <div class="story-card">
                <span class="era-badge">Antiguidade (287 a.C.)</span>
                <h2>Arquimedes e a Flutuabilidade</h2>
                <p>Na Grécia Antiga, Arquimedes descobriu que um corpo imerso em um fluido sofre uma força para cima
                    igual ao peso do fluido deslocado.</p>
                <p><strong>"Eureka!"</strong></p>
                <p>Esta foi uma das primeiras leis físicas formuladas matematicamente.</p>
            </div>
        </section>

        <!-- Section 3: Aristóteles -->
        <section class="story-section" data-scene="aristotle">
            <div class="story-card">
                <span class="era-badge">Grécia Antiga (350 a.C.)</span>
                <h2>Aristóteles e a Filosofia Natural</h2>
                <p>Aristóteles acreditava que tudo era feito de quatro elementos: terra, água, ar e fogo. Cada um tinha
                    seu lugar natural no universo.</p>
                <p>Embora muitas de suas ideias estivessem erradas, ele estabeleceu o método de observar a natureza e
                    buscar explicações racionais.</p>
                <p>Suas teorias dominaram o pensamento ocidental por quase 2000 anos!</p>
            </div>
        </section>

        <!-- Section 4: Galileo -->
        <section class="story-section" data-scene="galileo">
            <div class="story-card">
                <span class="era-badge">Renascimento (1600s)</span>
                <h2>Galileu e o Movimento</h2>
                <p>Galileu Galilei desafiou a visão aristotélica. Ao rolar esferas em planos inclinados, ele
                    descobriu que a distância percorrida é proporcional ao quadrado do tempo.</p>
                <p>Ele lançou as bases para a mecânica clássica, mostrando que a aceleração da gravidade é
                    constante.</p>
            </div>
        </section>

        <!-- Section 5: Kepler -->
        <section class="story-section" data-scene="kepler">
            <div class="story-card">
                <span class="era-badge">Renascimento (1619)</span>
                <h2>Kepler e as Órbitas Planetárias</h2>
                <p>Johannes Kepler descobriu que os planetas não se movem em círculos perfeitos, mas em elipses. E mais:
                    eles aceleram quando estão perto do Sol!</p>
                <p>Suas três leis do movimento planetário foram fundamentais para que Newton desenvolvesse a lei da
                    gravitação universal.</p>
                <p><em>"A geometria providenciou a Deus um modelo para a criação."</em> - Kepler</p>
            </div>
        </section>

        <!-- Section 6: Newton -->
        <section class="story-section" data-scene="newton">
            <div class="story-card">
                <span class="era-badge">Século XVII (1687)</span>
                <h2>A Gravitação Universal</h2>
                <p>Isaac Newton unificou a física terrestre e celeste. A mesma força que faz uma maçã cair mantém a
                    Lua em órbita ao redor da Terra.</p>
                <p>Sua lei da gravitação universal e as três leis do movimento dominaram a física por mais de 200
                    anos.</p>
            </div>
        </section>

        <!-- Section 4: Electromagnetism -->
        <section class="story-section" data-scene="maxwell">
            <div class="story-card">
                <span class="era-badge">Século XIX (1860s)</span>
                <h2>O Eletromagnetismo</h2>
                <p>James Clerk Maxwell unificou eletricidade e magnetismo em quatro equações elegantes. Ele previu
                    que a luz é uma onda eletromagnética.</p>
                <p>Isso abriu caminho para o rádio, a televisão e toda a nossa tecnologia de comunicação moderna.
                </p>
            </div>
        </section>

        <!-- Section 8: Termodinâmica -->
        <section class="story-section" data-scene="thermodynamics">
            <div class="story-card">
                <span class="era-badge">Século XIX (1850s)</span>
                <h2>Termodinâmica: A Ciência da Energia</h2>
                <p>Carnot, Joule, Kelvin e Boltzmann nos mostraram que calor é energia em movimento. A energia flui do
                    quente para o frio, mas nunca o oposto espontaneamente.</p>
                <p>A segunda lei da termodinâmica introduziu o conceito de entropia: o universo tende ao caos.</p>
                <p>Esta ciência alimentou a Revolução Industrial e revelou os limites fundamentais da eficiência.</p>
            </div>
        </section>

        <!-- Section 9: Relatividade -->
        <section class="story-section" data-scene="einstein">
            <div class="story-card">
                <span class="era-badge">Século XX (1905/1915)</span>
                <h2>A Relatividade</h2>
                <p>Albert Einstein revolucionou tudo. O espaço e o tempo não são absolutos, mas formam um tecido
                    flexível: o espaço-tempo.</p>
                <p>A gravidade não é uma força, mas a curvatura desse tecido causada pela massa e energia.</p>
            </div>
        </section>

        <!-- Section 6: Quantum -->
        <section class="story-section" data-scene="quantum">
            <div class="story-card">
                <span class="era-badge">Física Quântica (1920s)</span>
                <h2>O Mundo Quântico</h2>
                <p>Niels Bohr, Heisenberg e Schrödinger nos mostraram um mundo bizarro na escala atômica. Partículas
                    são ondas, a certeza é impossível e elétrons saltam entre órbitas.</p>
                <p>Esta é a base de toda a eletrônica moderna, lasers e computadores.</p>
            </div>
        </section>

        <!-- Section 11: Atomic Model -->
        <section class="story-section" data-scene="atomic">
            <div class="story-card">
                <span class="era-badge">Início do Séc. XX (1911)</span>
                <h2>O Átomo Revelado</h2>
                <p>Ernest Rutherford bombardeou folhas de ouro com partículas alfa e descobriu algo surpreendente: a
                    maior parte do átomo é vazio!</p>
                <p>No centro, um núcleo minúsculo contém quase toda a massa. Os elétrons orbitam esse núcleo como
                    planetas ao redor do Sol.</p>
                <p>Niels Bohr refinaria este modelo, mostrando que elétrons só podem ocupar órbitas específicas.</p>
            </div>
        </section>

        <!-- Section 12: Nuclear Physics -->
        <section class="story-section" data-scene="nuclear">
            <div class="story-card">
                <span class="era-badge">Século XX (1942)</span>
                <h2>A Era Nuclear</h2>
                <p>Enrico Fermi e sua equipe alcançaram a primeira reação nuclear em cadeia controlada. Dividir o núcleo
                    atômico libera uma quantidade colossal de energia.</p>
                <p>E = mc²: uma pequena quantidade de massa se converte em energia tremenda.</p>
                <p>Isso trouxe energia nuclear, mas também a arma mais destrutiva já criada pela humanidade.</p>
            </div>
        </section>

        <!-- Section 13: Particle Physics -->
        <section class="story-section" data-scene="particles">
            <div class="story-card">
                <span class="era-badge">Física de Partículas (1960s-2000s)</span>
                <h2>O Modelo Padrão</h2>
                <p>Nos aceleradores de partículas, físicos descobriram um zoológico de partículas subatômicas: quarks,
                    léptons, bósons.</p>
                <p>O Modelo Padrão organiza todas essas partículas e descreve as forças fundamentais (exceto a
                    gravidade).</p>
                <p>Prótons e nêutrons não são fundamentais - são feitos de quarks unidos pela força forte!</p>
            </div>
        </section>

        <!-- Section 14: Modern Discoveries -->
        <section class="story-section" data-scene="modern">
            <div class="story-card">
                <span class="era-badge">Descobertas Recentes (2012-2015)</span>
                <h2>Higgs e Ondas Gravitacionais</h2>
                <p>Em 2012, o CERN descobriu o bóson de Higgs, a partícula que dá massa a todas as outras. A última peça
                    do Modelo Padrão.</p>
                <p>Em 2015, o LIGO detectou ondas gravitacionais pela primeira vez: ondulações no espaço-tempo causadas
                    por dois buracos negros colidindo a bilhões de anos-luz de distância.</p>
                <p><strong>Einstein estava certo novamente, 100 anos depois!</strong></p>
            </div>
        </section>

        <section class="story-section" style="height: 50vh;">
            <div class="story-card">
                <h2>O Futuro</h2>
                <p>A jornada continua. Matéria escura, energia escura e a teoria de tudo ainda nos aguardam.</p>
                <a href="index.html" class="btn btn-primary" style="margin-top: 1rem; width: 100%;">Explorar
                    Simulações</a>
            </div>
        </section>

    </div>
    <div class="sticky-visual">
        <canvas id="animationCanvas"></canvas>
    </div>
</div>

<script>
    const canvas = document.getElementById('animationCanvas');
    const ctx = canvas.getContext('2d');
    let currentScene = 'intro';
    let frameCount = 0;
    let particles = [];

    // Resize handling
    function resizeCanvas() {
        const container = canvas.parentElement;
        canvas.width = container.clientWidth;
        draw: () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Water container
            ctx.fillStyle = 'rgba(59, 130, 246, 0.2)';
            ctx.fillRect(centerX - 100, centerY, 200, 150);

            // Water level (oscillating)
            const time = Date.now() / 1000;
            const waterLevel = centerY + 50 - Math.sin(time) * 10;

            ctx.fillStyle = 'rgba(59, 130, 246, 0.6)';
            ctx.beginPath();
            ctx.moveTo(centerX - 100, centerY + 150);
            ctx.lineTo(centerX - 100, waterLevel);
            for (let i = 0; i <= 200; i += 10) {
                ctx.lineTo(centerX - 100 + i, waterLevel + Math.sin(i / 20 + time * 2) * 5);
            }
            ctx.lineTo(centerX + 100, centerY + 150);
            ctx.fill();

            // Crown/Object
            const objY = centerY + 50 + Math.sin(time) * 30;
            ctx.fillStyle = '#FFD700'; // Gold
            ctx.beginPath();
            ctx.arc(centerX, objY, 30, 0, Math.PI * 2);
            ctx.fill();

            // Force arrows
            // Buoyancy (Up)
            drawArrow(ctx, centerX, objY - 40, centerX, objY - 90, '#10b981', 'Empuxo');
            // Gravity (Down)
            drawArrow(ctx, centerX, objY + 40, centerX, objY + 90, '#ef4444', 'Peso');
        }
    },
    galileo: {
        init: () => { },
            draw: () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                const time = (Date.now() / 2000) % 1; // 0 to 1 loop

                // Ramp
                const startX = canvas.width * 0.2;
                const startY = canvas.height * 0.3;
                const endX = canvas.width * 0.8;
                const endY = canvas.height * 0.7;

                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.lineTo(endX, endY + 20);
                ctx.lineTo(startX, endY + 20); // Base
                ctx.closePath();
                ctx.fillStyle = '#64748b';
                ctx.fill();

                // Ball
                const t = time * time; // Acceleration (d ~ t^2)
                const ballX = startX + (endX - startX) * t;
                const ballY = startY + (endY - startY) * t - 15; // On top of ramp

                ctx.beginPath();
                ctx.arc(ballX, ballY, 15, 0, Math.PI * 2);
                ctx.fillStyle = '#f59e0b';
                ctx.fill();

                // Markers
                for (let i = 1; i <= 4; i++) {
                    const mt = i / 4;
                    const mx = startX + (endX - startX) * (mt * mt);
                    const my = startY + (endY - startY) * (mt * mt);
                    ctx.fillStyle = 'white';
                    ctx.fillRect(mx, my, 2, 10);
                }
            }
    },
    newton: {
        init: () => { },
            draw: () => {
                ctx.fillStyle = 'rgba(5, 11, 20, 0.2)'; // Trail
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;

                // Earth
                ctx.beginPath();
                ctx.arc(centerX, centerY, 40, 0, Math.PI * 2);
                ctx.fillStyle = '#3b82f6';
                ctx.fill();

                // Moon
                const time = Date.now() / 1000;
                const radius = 150;
                const moonX = centerX + Math.cos(time) * radius;
                const moonY = centerY + Math.sin(time) * radius;

                ctx.beginPath();
                ctx.arc(moonX, moonY, 15, 0, Math.PI * 2);
                ctx.fillStyle = '#94a3b8';
                ctx.fill();

                // Orbit path
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.strokeStyle = 'rgba(255,255,255,0.1)';
                ctx.stroke();

                // Force Vector
                drawArrow(ctx, moonX, moonY, centerX, centerY, 'rgba(255,255,255,0.5)', '');
            }
    },
    maxwell: {
        init: () => { },
            draw: () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const time = Date.now() / 500;
                const centerY = canvas.height / 2;

                ctx.lineWidth = 3;

                // Electric Field (Red, Vertical)
                ctx.beginPath();
                ctx.strokeStyle = '#ef4444';
                for (let x = 0; x < canvas.width; x += 5) {
                    const y = centerY + Math.sin(x / 50 - time) * 50;
                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);

                    // Draw field lines occasionally
                    if (x % 40 === 0) {
                        ctx.moveTo(x, centerY);
                        ctx.lineTo(x, y);
                        ctx.moveTo(x, y); // Return to curve
                    }
                }
                ctx.stroke();

                // Magnetic Field (Blue, Horizontal/Perspective)
                ctx.beginPath();
                ctx.strokeStyle = '#3b82f6';
                for (let x = 0; x < canvas.width; x += 5) {
                    // Simulate 3D by offsetting y slightly less and adding perspective
                    const z = Math.sin(x / 50 - time) * 50;
                    // Project 3D z to 2D y (isometric-ish)
                    const y = centerY + z * 0.5;

                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();

                ctx.fillStyle = 'white';
                ctx.fillText("E (Elétrico)", 20, centerY - 60);
                ctx.fillStyle = '#3b82f6';
                ctx.fillText("B (Magnético)", 20, centerY + 60);
            }
    },
    einstein: {
        init: () => { },
            draw: () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;

                // Draw Grid
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
                ctx.lineWidth = 1;

                const gridSize = 40;
                const rows = Math.ceil(canvas.height / gridSize);
                const cols = Math.ceil(canvas.width / gridSize);

                for (let r = 0; r <= rows; r++) {
                    for (let c = 0; c <= cols; c++) {
                        const x = c * gridSize;
                        const y = r * gridSize;

                        // Distort based on distance to center
                        const dx = x - centerX;
                        const dy = y - centerY;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        const pull = Math.max(0, 100 - dist) * 0.5; // Distortion factor

                        // Simple distortion approximation
                        const angle = Math.atan2(dy, dx);
                        const dist2 = Math.max(0, dist - 20000 / (dist * dist + 100)); // Gravity well effect

                        // Actually, let's just draw lines that curve
                        // Horizontal lines
                        if (c < cols) {
                            const nextX = (c + 1) * gridSize;
                            const nextY = r * gridSize;
                            drawDistortedLine(ctx, x, y, nextX, nextY, centerX, centerY);
                        }
                        // Vertical lines
                        if (r < rows) {
                            const nextX = c * gridSize;
                            const nextY = (r + 1) * gridSize;
                            drawDistortedLine(ctx, x, y, nextX, nextY, centerX, centerY);
                        }
                    }
                }

                // Mass
                ctx.beginPath();
                ctx.arc(centerX, centerY, 30, 0, Math.PI * 2);
                ctx.fillStyle = '#f59e0b';
                ctx.shadowBlur = 20;
                ctx.shadowColor = '#f59e0b';
                ctx.fill();
                ctx.shadowBlur = 0;
            }
    },
    quantum: {
        init: () => { },
            draw: () => {
                ctx.fillStyle = 'rgba(5, 11, 20, 0.3)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;

                // Nucleus
                ctx.beginPath();
                ctx.arc(centerX, centerY, 10, 0, Math.PI * 2);
                ctx.fillStyle = '#ef4444';
                ctx.fill();

                // Orbits
                [50, 100, 150].forEach(r => {
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, r, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(255,255,255,0.1)';
                    ctx.stroke();
                });

                // Electron jumping
                const time = Date.now() / 1000;
                const jumpState = Math.floor(time) % 3; // 0, 1, 2
                const radii = [50, 100, 150];
                const currentR = radii[jumpState];

                const angle = time * 5;
                const ex = centerX + Math.cos(angle) * currentR;
                const ey = centerY + Math.sin(angle) * currentR;

                ctx.beginPath();
                ctx.arc(ex, ey, 8, 0, Math.PI * 2);
                ctx.fillStyle = '#06b6d4';
                ctx.shadowBlur = 10;
                ctx.shadowColor = '#06b6d4';
                ctx.fill();
                ctx.shadowBlur = 0;

                // Probability cloud (dots)
                for (let i = 0; i < 10; i++) {
                    const r = Math.random() * 160;
                    const a = Math.random() * Math.PI * 2;
                    ctx.fillStyle = 'rgba(6, 182, 212, 0.5)';
                    ctx.fillRect(centerX + Math.cos(a) * r, centerY + Math.sin(a) * r, 2, 2);
                }
            }
    }
    };

    function drawDistortedLine(ctx, x1, y1, x2, y2, cx, cy) {
        const distort = (x, y) => {
            const dx = x - cx;
            const dy = y - cy;
            const dist = Math.sqrt(dx * dx + dy * dy);
            const factor = Math.max(0, 1 - 3000 / (dist * dist + 1000)); // Pull towards center
            return {
                x: cx + dx * factor,
                y: cy + dy * factor
            };
        };

        const p1 = distort(x1, y1);
        const p2 = distort(x2, y2);

        ctx.beginPath();
        ctx.moveTo(p1.x, p1.y);
        ctx.lineTo(p2.x, p2.y);
        ctx.stroke();
    }

    function drawArrow(ctx, fromX, fromY, toX, toY, color, label) {
        const headlen = 10;
        const dx = toX - fromX;
        const dy = toY - fromY;
        const angle = Math.atan2(dy, dx);

        ctx.strokeStyle = color;
        ctx.fillStyle = color;
        ctx.lineWidth = 2;

        ctx.beginPath();
        ctx.moveTo(fromX, fromY);
        ctx.lineTo(toX, toY);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(toX, toY);
        ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), toY - headlen * Math.sin(angle - Math.PI / 6));
        ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), toY - headlen * Math.sin(angle + Math.PI / 6));
        ctx.fill();

        if (label) {
            ctx.fillStyle = 'white';
            ctx.font = '14px Arial';
            ctx.fillText(label, toX + 15, toY);
        }
    }

    function initScene(sceneName) {
        if (scenes[sceneName] && scenes[sceneName].init) {
            scenes[sceneName].init();
        }
    }

    function animate() {
        if (scenes[currentScene] && scenes[currentScene].draw) {
            scenes[currentScene].draw();
        }
        requestAnimationFrame(animate);
    }

    // Scroll Observer
    const observerOptions = {
        root: null,
        rootMargin: '-50% 0px -50% 0px', // Trigger when element is in middle of screen
        threshold: 0
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Remove active class from all
                document.querySelectorAll('.story-section').forEach(s => s.classList.remove('active'));
                // Add to current
                entry.target.classList.add('active');

                const newScene = entry.target.dataset.scene;
                if (newScene && newScene !== currentScene) {
                    currentScene = newScene;
                    initScene(currentScene);
                }
            }
        });
    }, observerOptions);

    document.querySelectorAll('.story-section').forEach(section => {
        observer.observe(section);
    });

    // Progress Bar
    window.addEventListener('scroll', () => {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById("progressBar").style.width = scrolled + "%";
    });

    // Start
    resizeCanvas();
    animate();

</script>
</body>

</html>